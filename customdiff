DRUPALSITEALL="/var/www/sites/all"
CIVICRMPHP="$DRUPALSITEALL"/"civicrm_custom"
CIVICRMMODULE="$DRUPALSITEALL"/"modules/civicrm"
ACTUALFILEPATH="$(readlink -f "$1")"
FULLFILEPATH="$( cd "$( dirname "$ACTUALFILEPATH" )" && pwd )"/$(basename "$ACTUALFILEPATH")

if [[ "${FULLFILEPATH##$CIVICRMMODULE}" != "$FULLFILEPATH" ]] ;
then
    FILE_LOCATION="module"
    RELATIVE_PATH="${FULLFILEPATH##$CIVICRMMODULE}"
    OTHER_PATH="$CIVICRMPHP""$RELATIVE_PATH"
fi
if [[ "${FULLFILEPATH##$CIVICRMPHP}" != "$FULLFILEPATH" ]] ;
then
    FILE_LOCATION="php"
    RELATIVE_PATH="${FULLFILEPATH##$CIVICRMPHP}"
    OTHER_PATH="$CIVICRMMODULE""$RELATIVE_PATH"
fi
diff "$FULLFILEPATH" "$OTHER_PATH"

